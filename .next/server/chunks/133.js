exports.id=133,exports.ids=[133],exports.modules={62172:e=>{function a(e){var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}a.keys=()=>[],a.resolve=a,a.id=62172,e.exports=a},31313:(e,a,t)=>{"use strict";t.d(a,{HM:()=>r,Ol:()=>d,aQ:()=>n,hz:()=>c,id:()=>i}),t(15424);var s=t(46242),r=(0,s.$)("bacf856699126aae5c73f5a656b8bd71d8b2110f"),c=(0,s.$)("b41c5aaca76a8e6ed6feceaff4da075ff01fe184"),n=(0,s.$)("3956f651c60b37107f0d809bbe17f9017ad34b23");(0,s.$)("cde84063848ccc945b29f553fea6e3994e837732");var i=(0,s.$)("1add03d8fa0b0ca81c5dc0df107ae3d2c2208021"),d=(0,s.$)("9be6112e648677cc19d2b3381a6fa058710baf63")},56995:(e,a,t)=>{"use strict";t.d(a,{Nv:()=>n,Tz:()=>d,VF:()=>c,fg:()=>r,fs:()=>o,sm:()=>i}),t(15424);var s=t(46242),r=(0,s.$)("1ec8d5cf0294b0917754fca3d3bb199e1a81fee3"),c=(0,s.$)("587e7261b2162794cc322b95a32b25d5fc5406ca"),n=(0,s.$)("b24cb89dbdb32ff29d307d491f0cb40b7f69b6fb"),i=(0,s.$)("b63ca59726c4cefaa27ffb572246e537bb775ef6"),d=(0,s.$)("6e6689870b80232c35452a902890c8b268f04b3f"),o=(0,s.$)("657eb5be03d951afd67577216e6dbf5c3ed519cd")},82154:(e,a,t)=>{"use strict";t.d(a,{FN:()=>i,Ld:()=>c,WA:()=>f,YA:()=>o,ZP:()=>m,u$:()=>l});var s=t(31313),r=t(9718);let c=(0,r.hg)("fetchNavLink",async({page:e=1,pageSize:a=5,search:t="",isActive:r=""})=>{let c=await (0,s.id)(e,a,t,r);return{data:c.result,totalItems:c.totalItems}}),n=(0,r.oM)({name:"navlink",initialState:{data:[],status:"idle",error:null,currentPage:1,totalPages:1,totalItems:0,pageSize:10,currentEditItem:null,search:"",isActive:""},reducers:{selectedEditItem:(e,a)=>{e.currentEditItem=a.payload},updateNavLink:(e,a)=>{e.data=a.payload},setPage:(e,a)=>{e.currentPage=a.payload},pageData:(e,a)=>{e.pageSize=a.payload},setSerach:(e,a)=>{e.search=a.payload},setIsActive:(e,a)=>{e.isActive=a.payload}},extraReducers:e=>{e.addCase(c.pending,e=>{e.status="loading"}).addCase(c.fulfilled,(e,a)=>{e.status="succeeded",e.data=a.payload.data,e.totalItems=a.payload.totalItems,e.totalPages=Math.ceil(a.payload.totalItems/e.pageSize),console.log(e.pageSize)}).addCase(c.rejected,(e,a)=>{e.status="failed",e.error=a.error.message})}}),{selectedEditItem:i,updateNavLink:d,setPage:o,setSerach:l,pageData:u,setIsActive:f}=n.actions,m=n.reducer},48985:(e,a,t)=>{"use strict";t.d(a,{RP:()=>d,S5:()=>c,ZP:()=>f,wG:()=>n});var s=t(56995),r=t(9718);let c=(0,r.hg)("fetchTeamData",async()=>({data:await (0,s.VF)()})),n=(0,r.hg)("fetchAdminTeamData",async()=>({data:await (0,s.Nv)()})),i=(0,r.oM)({name:"getTeam",initialState:{data:[],status:"idle",error:null,currentEditItem:null,search:"",reset:!0,teamStatus:""},reducers:{setEditItem(e,a){e.currentEditItem=a.payload},setReset(e,a){e.reset=a.payload},setSerach:(e,a)=>{e.search=a.payload},setTeamStatus:(e,a)=>{e.teamStatus=a.payload}},extraReducers:e=>{e.addCase(c.pending,e=>{e.status="loading"}).addCase(c.fulfilled,(e,a)=>{e.status="succeeded",e.data=a.payload.data}).addCase(c.rejected,(e,a)=>{e.status="failed",e.error=a.error.message}),e.addCase(n.pending,e=>{e.status="loading"}).addCase(n.fulfilled,(e,a)=>{e.status="succeeded",e.data=a.payload.data}).addCase(n.rejected,(e,a)=>{e.status="failed",e.error=a.error.message})}}),{setEditItem:d,setReset:o,setSerach:l,setTeamStatus:u}=i.actions,f=i.reducer},71036:(e,a,t)=>{"use strict";t.d(a,{Z:()=>n});var s=t(9718),r=t(82154),c=t(48985);let n=(0,s.xC)({reducer:{navLinks:r.ZP,getTeams:c.ZP}})},31796:(e,a,t)=>{"use strict";t.r(a),t.d(a,{addNavLink:()=>g,callBackContact:()=>u,contactUs:()=>d,editNavLink:()=>m,getAllContactData:()=>o,getNavLink:()=>f});var s=t(27745);t(26461);var r=t(14510),c=t.n(r),n=t(38160),i=t(30207);async function d(e){try{if(0===Object.keys(e).length)return{status:400,message:"Please fill all the fields"};let a=await c().getConnection(),t=new Date().toISOString().split("T")[0],s={...e,created_at:t},[r]=await a.query("INSERT INTO contact SET ?",s);if(a.release(),1===r.affectedRows){let a=await l(e.email);return console.log(a),{status:200,message:"Our Team Contact Shortly \uD83E\uDD1E"}}return{status:500,message:"Failed to contact us"}}catch(e){return console.log(e.message),{status:500,message:"Failed to contact us"}}}async function o(e,a,t){try{let[s]=await c().query("SELECT * FROM contact WHERE created_at = ? LIMIT ? OFFSET ?",[e,t,(a-1)*t]);return s}catch(e){return console.log(e.message),{status:500,message:"Failed to get contact data"}}}async function l(e){try{let a=n.createTransport({host:process.env.SMTP_HOST||"smtp.office365.com",port:process.env.SMTP_PORT||587,secure:process.env.SMTP_SECURE||!1,auth:{user:process.env.SMTP_USERNAME,pass:process.env.SMTP_PASSWORD}}),t={from:`Neel Patel ✌️  ${process.env.SMTP_USERNAME}`,to:e,subject:"Contact Us",text:"Hello, this is a contact us email",html:"<b>Hello, this is a contact us email</b>"};return await a.sendMail(t),{status:200,message:"Email sent successfully"}}catch(e){console.log(e.message)}}async function u(e){try{console.log(e)}catch(e){console.log(e.message)}}async function f(e,a,t,s){let r=a>0?parseInt(a):5,n=e>0?parseInt(e):1,i=`%${t}%`;try{let e=`SELECT COUNT(id) as total FROM navlink WHERE isDelete = 1 AND navName LIKE ? ${""!==s?"AND isActive = ?":""}`,a=`SELECT * FROM navlink WHERE isDelete = 1 AND navName LIKE ? ${""!==s?"AND isActive = ?":""} LIMIT ? OFFSET ?`,t=""!==s?[i,s,r,(n-1)*r]:[i,r,(n-1)*r],[d]=await c().query(e,""!==s?[i,s]:[i]),[o]=await c().query(a,t);return{result:o,totalItems:d[0].total}}catch(e){return console.log(e.message),{status:500,message:"Failed to Fetch Nav Link"}}}async function m(e){try{let[a]=await c().query("SELECT * FROM navlink WHERE  navLink = ? AND isDelete = 1 AND id != ?",[e.navName,e.id]);if(a.length>0)return{error:"Duplicate navLink"};{let[a]=await c().query("UPDATE navlink SET navLink = ?, navName = ? WHERE id =?",[e.navName,e.navName,e.id]);if(1===a.affectedRows)return{status:200,message:"Nav link updated successfully"};return{error:"Failed to update Nav Link"}}}catch(e){return console.log(e.message),{status:500,message:"Failed to edit nav link"}}}async function g(e){try{let a={...e,navLink:e.navName,created_at:new Date,updated_at:new Date},[t]=await c().query("SELECT * FROM navlink WHERE  navLink = ? AND isDelete = 1",[e.navName]);if(t.length>0)return{error:"Duplicate navLink"};{let[e]=await c().query("INSERT INTO navlink SET ?",a);if(1===e.affectedRows)return(0,i.revalidatePath)("/","layout"),{status:200,message:"Nav link added successfully"};return{error:"Failed to add nav link"}}}catch(e){return console.log(e.message,"addNavlink error from action"),{status:500,message:"Failed to add nav link"}}}(0,t(85723).ensureServerEntryExports)([d,o,u,f,m,g]),(0,s.registerServerReference)("b41c5aaca76a8e6ed6feceaff4da075ff01fe184",d),(0,s.registerServerReference)("3956f651c60b37107f0d809bbe17f9017ad34b23",o),(0,s.registerServerReference)("cde84063848ccc945b29f553fea6e3994e837732",u),(0,s.registerServerReference)("1add03d8fa0b0ca81c5dc0df107ae3d2c2208021",f),(0,s.registerServerReference)("9be6112e648677cc19d2b3381a6fa058710baf63",m),(0,s.registerServerReference)("bacf856699126aae5c73f5a656b8bd71d8b2110f",g)},33567:(e,a,t)=>{"use strict";t.r(a),t.d(a,{addTeam:()=>p,deleteTeamData:()=>m,getAdminTeamData:()=>u,getTeamData:()=>l,updateTeam:()=>b,updateTeamStatus:()=>f});var s=t(27745);t(26461);var r=t(14510),c=t.n(r),n=t(57147),i=t.n(n),d=t(71017),o=t.n(d);async function l(){try{let[e]=await c().query("SELECT * FROM teams where isDelete = 0 AND status = 1");return e}catch(e){console.error(e)}}async function u(){try{let[e]=await c().query("SELECT * FROM teams where isDelete = 0");return e}catch(e){console.error(e)}}async function f(e){try{let[a]=await c().query("UPDATE teams SET status = ? WHERE id = ?",[!e.status,e.id]);if(1===a.affectedRows)return{status:200,message:"Team Status Updated"};return{status:500,message:"Status Not Update!"}}catch(e){return console.error(e),{status:500,message:"Error Update Status"}}}async function m(e){try{let[a]=await c().query("UPDATE teams SET isDelete = 1 WHERE id = ? ",e.id);if(1===a.affectedRows)return{status:200,message:"Team Data is Deleted"};return{status:500,message:"Team Data Not Deleted"}}catch(e){return console.error(e),{status:500,message:"Something went wrong"}}}async function g(e,a){try{let t=Buffer.from(await e.arrayBuffer()),s=`${a}.${e.name.split(".")[1]}`,r=o().join(process.cwd(),"public/images/team");i().mkdirSync(r,{recursive:!0});let c=o().join(r,s);return i().writeFileSync(c,t),c.replace(process.cwd(),"").split("/").slice(2).join("/")}catch(e){return console.error(e),null}}async function b(e,a){let{fName:t,lName:s,designation:r,department:n,bio:d}=e,l=new Date().toISOString().split("T")[0],u=e.image.get("image"),f=a.image,m=!1;u.name&&(f=await g(u,e.fName))&&f!==a.image&&(m=!0);let b=`
    UPDATE teams SET 
      firstName = ?, 
      lastName = ?, 
      image = ?, 
      designation = ?, 
      department = ?, 
      bio = ?, 
      update_at = ? 
    WHERE id = ?
  `,[p]=await c().query(b,[t,s,f,r,n,d,l,a.id]);return(m&&i().unlinkSync(o().join(process.cwd(),"public/",a.image)),1===p.affectedRows)?{status:200,message:"Team updated successfully"}:{status:500,message:"Failed to update the team"}}async function p(e){let{fName:a,lName:t,designation:s,department:r,bio:n}=e,d=e.image.get("image"),l=Buffer.from(await d.arrayBuffer()),u=`${a}.${d.name.split(".")[1]}`,f=o().join(process.cwd(),"public/images/team");i().mkdirSync(f,{recursive:!0});let m=o().join(f,u);i().writeFileSync(m,l);let g=m.replace(process.cwd(),"").split("/").slice(2).join("/"),b=new Date().toISOString().split("T")[0];try{let[e]=await c().query("INSERT INTO teams (firstName, lastName,designation,department,image,bio,created_at,update_at) VALUES (?,?,?,?,?,?,?,?)",[a,t,s,r,g,n,b,b]);if(1===e.affectedRows)return{message:"Team added successfully",status:200}}catch(e){return console.error(e),{message:"Failed to add team",status:500}}}(0,t(85723).ensureServerEntryExports)([l,u,f,m,b,p]),(0,s.registerServerReference)("587e7261b2162794cc322b95a32b25d5fc5406ca",l),(0,s.registerServerReference)("b24cb89dbdb32ff29d307d491f0cb40b7f69b6fb",u),(0,s.registerServerReference)("b63ca59726c4cefaa27ffb572246e537bb775ef6",f),(0,s.registerServerReference)("6e6689870b80232c35452a902890c8b268f04b3f",m),(0,s.registerServerReference)("657eb5be03d951afd67577216e6dbf5c3ed519cd",b),(0,s.registerServerReference)("1ec8d5cf0294b0917754fca3d3bb199e1a81fee3",p)},14510:(e,a,t)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),t(27745),t(26461);let s=t(85723),r=t(41908).createPool({host:process.env.DB_HOST||"localhost",user:process.env.DB_USERNAME||"root",password:process.env.DB_PASSWORD||"a2hosting",database:process.env.DB_NAME||"a2host",waitForConnections:!0,connectionLimit:10,queueLimit:0});e.exports=r,(0,s.ensureServerEntryExports)([])}};